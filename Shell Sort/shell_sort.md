### Что такое сортировка Шелла?

Сортировка Шелла (Shell Sort) – это улучшенный вариант сортировки вставками (Insertion Sort). Основная идея в том, что элементы сравниваются и перемещаются не сразу на соседние позиции, а через некоторые промежутки (gap), которые постепенно уменьшаются до 1. Сортируя на больших расстояниях, мы быстрее «подгоняем» элементы ближе к их целевым местам, а завершающий этап при gap = 1 уже часто требует меньше шагов, чем обычная сортировка вставками.

### Аналогия из жизни

Представьте, что вам нужно упорядочить книги на очень длинной полке. Вместо того чтобы двигать каждую книгу на одно место вперёд, вы сначала «приблизительно» расставляете их в правильном порядке, перекладывая с шагом, скажем, в несколько секций. А когда всё более-менее упорядочено, вы делаете финальный проход, двигая книги уже на минимальные расстояния. С точки зрения усилий, это часто быстрее, чем сразу двигать каждую книгу по одной позиции много раз.

### Визуальная блок-схема

```md
          ┌─────────────┐
          │ Начать       │
          └─────────────┘
               │
       ┌───────▼────────┐
       │ Определить начальный gap
       │ (обычно n//2)  │
       └────────────────┘
               │
   ┌────────────▼─────────────────┐
   │ Пока gap > 0:                │
   │   выполнить "инкрементную"   │
   │   сортировку вставками с шагом gap
   │   уменьшить gap (например, gap //= 2)
   └──────────────────────────────┘
               │
         ┌─────▼─────┐
         │ Конец      │
         └────────────┘
```

Алгоритм меняет стандартную сортировку вставками тем, что мы шагаем не на 1 позицию, а сразу через gap. После нескольких проходов gap становится меньше (чаще всего делят на 2), и так до тех пор, пока gap не окажется равен 1. Тогда выполняется классическая «сортировка вставками», но массив к этому моменту уже частично упорядочен.

