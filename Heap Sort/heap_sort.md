### Что такое пирамидальная сортировка?

Пирамидальная сортировка (Heap Sort) – это метод упорядочивания массива с использованием структуры данных «двоичная куча» (heap). Идея состоит в том, чтобы сначала «выстроить» кучу из элементов массива, а затем многократно извлекать из неё максимальный элемент (при сортировке по возрастанию) и помещать его в конец массива. В итоге мы получаем отсортированный список.

### Аналогия из жизни

Представьте, что вам нужно расставить тяжёлые коробки по массе в порядке возрастания. Вы можете свалить все коробки в одну «пирамиду» так, чтобы тяжёлые коробки оказались наверху. Затем вы берёте самую тяжёлую коробку с вершины (это максимум) и кладёте её в конец своего упорядоченного ряда. После этого «подправляете» пирамиду, чтобы следующая самая тяжёлая оказалась сверху, и снова убираете её в следующий конец ряда. Продолжаете, пока все коробки не встанут на свои места.


### Визуальная блок-схема

```md
          ┌─────────────┐
          │ Начать       │
          └─────────────┘
               │
   ┌────────────▼─────────────────┐
   │ Построить max-heap из массива│
   └──────────────────────────────┘
               │
   ┌────────────▼────────────────────────────────┐
   │ Меняем местами первый элемент (максимум)    │
   │ c последним неотсортированным элементом.    │
   └──────────────────────────────────────────────┘
               │
   ┌────────────▼─────────────────────────┐
   │ "Убираем" последний элемент из кучи, │
   │ уменьшаем её размер на 1            │
   └──────────────────────────────────────┘
               │
   ┌────────────▼────────────────────────────────────┐
   │ Восстанавливаем свойства max-heap ( heapify )   │
   │ для уменьшенной кучи                            │
   └──────────────────────────────────────────────────┘
               │
   ┌────────────▼────────────────┐
   │ Повторять, пока неотсортированные
   │ элементы в куче не закончатся  │
   └───────────────────────────────┘
               │
         ┌─────▼─────┐
         │ Конец      │
         └────────────┘

```

Вначале мы превращаем весь массив в кучу (max-heap), а затем многократно извлекаем максимум (верхушку кучи), ставим его в конец, «срезаем» кучу на один элемент и восстанавливаем её.